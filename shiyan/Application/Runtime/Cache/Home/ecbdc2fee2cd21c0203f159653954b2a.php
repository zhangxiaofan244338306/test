<?php if (!defined('THINK_PATH')) exit();?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
<meta name="viewport" content="width=device-width">
<title>我要入驻-初始协议</title>
<!-- <link href="/Application/Home/View/Static/css/qt_style.css" rel="stylesheet" type="text/css" /> -->
<link href="/Application/Home/View/Static/css/common.min.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/Application/Home/View/Static/js/jquery-1.11.0.min.js"></script>
<style>
body{
    font-size: 13px;
  margin: 0;
  padding: 0;
	width: 100%;
	box-sizing: border-box;
	/* overflow: hidden;
	overflow-y: auto; */
}
.em-red{
	
	margin-left: 23%;
}
li{
    list-style: none;
}
a{
    font-style: none;
    text-decoration: none;
}
em{
    font-style: none;
}
.agreement-title{
    height: 30px;
    line-height: 30px;
    text-align: left;
    padding-left:5%; 
    color:#333333;
    font-weight:bold;
    background:#f3f3f3;
    border-left: 1px solid rgb(218, 58, 10)
}
.agreement-title span{
	float:left;
}
.agreement-title a{
	float:right;
	color:#0066cc;
	font-weight:normal;
}
.agreement{
    height: 30px;
    line-height: 30px;
    text-align: left;
    padding-left:10%; 
    color: #3b3838;
    font-weight:bold;
	background: rgb(226, 217, 217);
}
.em-red{
    display:inline-block;
    color: red;
    padding-right: 5%;
    text-align: center;
    position: relative;
    top: 2px;
}
.gome_2{
	padding-left: 5%;
	
}
.gome_2 input{
	/* margin-left: -8%; */
	
}
 th{
    width: 55%;
    font-style:normal; 
    text-align: left;
}
.gome_3{
  /* padding-left: 5%; */
}
tr{
    height: 40px;
}
.catable{
    width: 100%;
}
.tab{
	padding-right: -5%;
}
.head_1{
    width: 100%;
    background: rgba(235, 229, 229, 0.8)
}
.none{
    width: 100%;
    border: 1px solid rgba(235, 229, 229, 0.8);
    margin-top: 20px;
    margin-bottom: 20px;
}
/*******************按钮*************************/
.gome-btn{
	width:100%;
	margin:0 auto;
    text-align:center;
    margin-bottom: 20px;
    margin-top: 20px;
}
.gome-btn-red{
	height:30px;
	background:#cc0000;
	display:inline-block;
	color:#fff;
	text-align:center;
	font:bold 14px/30px '新宋体';
	padding:0 18px 0 18px;
}
.gome-btn-red:hover{
	background:#dd0000;
	text-decoration:none;
	color:#fff;
}
.gome-btn-redpop{
	height:24px;
	background:#cc0000;
	display:inline-block;
	color:#fff;
	text-align:center;
	font:normal 12px/24px '新宋体';
	padding:0 18px 0 18px;
}
.gome-btn-redpop:hover{
	background:#dd0000;
	text-decoration:none;
	color:#fff;
}
.gome-btn-gray{
	height:28px;
	background:#e6e6e6;
	border:1px solid #ddd;
	display:inline-block;
	color:#5e5e5e;
	text-align:center;
	font:bold 14px/28px '新宋体';
	padding:0 18px 0 18px;
	
}
.gome-btn-gray:hover{
	border:1px solid #ccc;
	text-decoration:none;
	color:#5e5e5e;
}
.gome-btn-white{
	height:26px;
	background:#fff;
	border:1px solid #ddd;
	display:inline-block;
	color:#5e5e5e;
	text-align:center;
	font:normal 12px/26px '新宋体';
	padding:0 18px 0 18px;
}
.gome-btn-white:hover{
	border:1px solid #ccc;
	text-decoration:none;
	color:#5e5e5e;
}
.gome-btn-whitepop{
	height:26px;
	background:#fff;
	border:1px solid #ddd;
	display:inline-block;
	color:#333333;
	text-align:center;
	font:normal 12px/26px '新宋体';
	padding:0 18px 0 18px;
}
.gome-btn-whitepop:hover{
	border:1px solid #ccc;
	text-decoration:none;
}
/* 表单 */
.btn_select_category {
    font: normal 12px/20px "microsoft yahei";
    color: #777;background-color: #DCDCDC;text-align: center;vertical-align: middle;
    display: inline-block;height: 25px;padding: 4px 12px;border: solid 1px;
    border-color: #DCDCDC #DCDCDC #B3B3B3 #DCDCDC;cursor: pointer;
}
/* .catable{width:100%; margin: 0 auto;} */
.catable td{
    border: solid 1px #DDD;
}
.sp{
	color: #777;text-align: center;background-color: #F7F7F7; vertical-align: top;
    text-align: right;height: 28px;padding: 4px 4px;border-color: #EEE;
    /* width: 30%; */
    border: 1px solid rgb(187, 178, 178)
}
/* .w120 {width:30% !important;} */
.tc {text-align: center !important;}
.catable {
	text-align: center; border-style: solid;
    border-width: 1px 1px 0 0;border-color: #DDD #DDD transparent transparent;
}
/* .w50 {width: 30% !important;} */
.hide{display:none;}
.cate3{margin:8px 0;font-size:14px;}
/* .cate3 input{margin-left:5px;} */
/* 流程 */
.liucheng{
     width: 96%;
	 color: gray;
	 display: flex;
	 justify-content: space-around;
	 position: relative;
	  left: 6%;
	 /* padding-right: 20px; */ 
 }
 .liucheng li{
    flex: 1;
    display: flex;
    /* flex-direction:column; */
    
}
.liucheng li:nth-last-child(1){

    /* flex-direction:column; */
}
.liucheng li em{
    /* padding-top: 5px;
    font-style: normal;
    width: 10px;
    padding-left: 8px; */
}
.liucheng li b{
    width: 39%;
    height: 30px;
    border-radius: 50%;
    text-align: center;
    line-height: 30px;
	background: #a5a5a5;
	color: white;
}
.liucheng li span{
    display: block;
    height: 8px;
    /* width: 100%; */
    background: #a5a5a5;
	margin-top: 10px;
	flex: 1;
}
.liucheng_1{
    width: 100%;
    color: #a5a5a5;
    display: flex;
    justify-content: space-around;
    margin-left: -3%;
    /* padding-left: -5%; */
    position: relative;
	top: 10px;
	margin-bottom: 10px;
}
.liucheng_1 li{
    font-style: normal;
    /* width: 10px; */
	padding-left: 3%;
    padding-right: 0%;

}
.il1,.il2{
    margin-top:5px; 
        width: 0; 
        height: 0; 
        border-top: 8px solid transparent; 
        border-left: 10px solid #cc0000; 
        border-bottom: 8px solid transparent;     
}
.il{
    margin-top:5px; 
        width: 0; 
        height: 0; 
        border-top: 8px solid transparent; 
        border-left: 10px solid #a5a5a5; 
        border-bottom: 8px solid transparent;     
}
/* 警告 */
.wraning{
   color: #cc0000;
}
.warning{
   border:1px solid #cc0000;
}
.warning-text1{
   float:left;
   background:url(../images/warning-icon1.gif) no-repeat left center;
   color:#ea5504;
   padding:0 0 0 20px;
   line-height:26px;
   height:26px;
   margin: 0 0 0 5px;
}
.warning-text2{
   float:left;
   background:url(../images/warning-icon2.gif) no-repeat left center;
   color:#cc0000;
   padding:0 0 0 20px;
   line-height:26px;
   height:26px;
   margin: 0 0 0 5px;
}
</style>
</head>
<body>
 
		<!-- <div class="">
			<div style="position: relative;top: -40px;left: 190px;">
				<a href="/" target="_blank" class="item fl"><img height="60" width="160" src=""></a>
			</div>
			<div class="gome-layout-area">
				<ul class="gome-nav">
					<li><a href="/index.php/Home/Newjoin/index.html" target="_blank">招商首页</a></li>
					<tpshop sql="select * from `__PREFIX__article_cat` where parent_id=2" key="k" item='v'>
						<li><a href="/index.php/Home/Newjoin/question.html" target="_blank"></a></li>
					</tpshop>
				</ul>
			</div>
		</div>
		<input type="hidden" id="mobileRegex" value="^(13[0-9]{9})|(14[57][0-9]{8})|(15[012356789][0-9]{8})|(170[0-9]{8})|(18[0-9]{9})$"/> -->
		<div class="">
				<ul class="liucheng">
						<li class=""><b style="  background: #cc0000;color: white">1</b><span class="bl_1" style="  background: #cc0000"></span>	
	
					</li>
						<li class=""><b style="  background: #cc0000;color: white">2</b><span class="bl_2" style="background: #cc0000"></span>
							
						</li>
						<li><b style="  background: #cc0000;color: white">3</b><span  class="bl_2" style="background: #cc0000"></span>
							
						</li>
						<li><b style="color: white">4</b><span></span>
							</li>
						<li style="width:30px;"><b style="color: white">√</b></li>
					</ul>
					<ul class="liucheng_1">
						<li style="color:#cc0000">
								入驻须知
						</li>
						<li style="color:#cc0000">
								公司信息
						</li>
						<li style="color:#cc0000">
								店铺信息
						</li>
						<li>
								资质上传
						</li>
						<li>
								等待审核
						</li>
					</ul>
				<div class="">
					<div class="agreement-title" style="border:none"><span>填写店铺信息</span></div>
					<form action="" id="gome_1" method="post">
					<div class="">
						<div class="agreement-title" style="background:white; margin-bottom: 20px;margin-left: 5%">店铺信息</div>
						<table cellpadding="0" cellspacing="0" border="0" class="gome_2">
							<tbody>
							<tr>
								<th><em class="em-red">*</em>店铺名称：</th>
								<td><input type="text" maxlength="40"  id="shopName" name="store_name" value="" class="input3" err_msg="0" onchange="checkStore(this)">
								<!-- <span id="shopNameSpan">点击查看店铺命名规则</span> -->
								</td>
							</tr>
							<tr>
								<th><em class="em-red">*</em>店铺登录主账号：</th>
								<td><input type="text" maxlength="20" id="seller_name" name="seller_name" autocomplete="off" value="" class="input3"  err_msg="0" onchange="checkSeller(this)"><span id="mainAccountSpan" class="" style="display: none;"></span></td>
							</tr>
							<tr>
								<th><em class="em-red">*</em>店铺类别：</th>
								<td>
									<select id="supplier_ctgy_id" name="sc_id" class="inputg" onchange="javascript:$('#sc_name').val($('#supplier_ctgy_id option:selected').text())">
									<option value="">请选择</option>
																	 </select>
									<input type="hidden" id="sc_name" name="sc_name" value=""/>
								</td>
							</tr>
							<tr>
								<th><em class="em-red">*</em>店铺性质：</th>
								<td>
									<select id="shopType" name="store_type" value="" class="input2">
										<option value="0">请选择</option>
										<option value="1">旗舰店</option>
										<option value="2">专卖店</option>
										<option value="3">专营店</option>
									</select>
								</td>
							</tr>
		
							<tr>
								<th><em class="em-red">*</em>店铺负责人姓名：</th>
								<td><input type="text" maxlength="64" id="contactPersonName" name="store_person_name" value="" class="input3" onblur="checkEmpty(this.value,'contactPersonName','店铺负责人姓名','');"><span id="contactPersonNameSpan" style="display:none"></span></td>
							</tr>
							<tr>
								<th><em class="em-red">*</em>负责人手机号码：</th>
								<td><input type="text" maxlength="11" id="contactPersonPhone" name="store_person_mobile" value="" class="input3" onblur="checkEmpty(this.value,'contactPersonPhone','手机号码','mobile');"><span id="contactPersonPhoneSpan" style="display:none"></span></td>
							</tr>
							<tr>
								<th><em class="em-red">*</em>负责人QQ号码：</th>
								<td><input type="text" maxlength="11" id="contactPersonQq" name="store_person_qq" value="" class="input3" onblur="checkEmpty(this.value,'contactPersonQq','qq号码','qq');"><span id="contactPersonQqSpan" style="display:none"></span></td>
							</tr>
							<tr>
								<th><em class="em-red">*</em>电子邮箱：</th>
								<td><input type="text" maxlength="32" id="shop_email" name="store_person_email" value="" class="input3" onblur="checkEmpty(this.value,'email','电子邮箱','email');"><span id="emailSpan" style="display:none"></span></td>
							</tr>
							<tr>
								<th><em class="em-red">*</em>店铺详细地址：</th>
								<td><input type="text" maxlength="100" id="storeAddress" name="store_address" class="input453" value="" onblur="checkEmpty(this.value,'storeAddress','店铺详细地址','');"><span id="storeAddressSpan" style="display:none"></span></td>
							</tr>
							<tr><th><em class="em-red">*</em>经营类目:</th>
								<td>
										<a href="###" id="btn_select_category" onclick="javascript:$(this).hide();$('.bind_cat').show();" class="btn_select_category">+选择添加类目</a>
										  <div class="bind_cat hide">
										  <select id="class_1" name="class_1" class="input128" onchange="get_sub_cat(this,'class_2')">
											<option value="0">请选择</option>
											<?php if(is_array($goods_category)): foreach($goods_category as $k=>$vo): ?><option value="<?php echo ($k); ?>" data-explain="5"><?php echo ($vo); ?></option><?php endforeach; endif; ?>
										  </select>
										  <select id="class_2" name="class_2" class="input128 hide" onchange="select_sub_cat(this,'class_3')">
										  </select>
										  <a class="gome-btn-gray" href="javascript:;" onclick="bind_store_class()">确定</a>
										  <a class="gome-btn-gray" href="javascript:;" onclick="showbtn()">取消</a>
										  <div id="class_3" name="class_3" class="hide cate3"></div>
				
										  </div>
										</td>
							</tr>
							<table table cellpadding="0" cellspacing="0" class="catable">
									<tr>
										<td>一级类目</td>
										<td>二级类目</td>
										<td>三级类目</td>
										<td>操作</td>
									</tr>
							</table>
							<tr>
								<td>
								<table cellpadding="0" cellspacing="0" class="catable">
										
									<tbody id="new_cat">
									</tbody>
								</table>
								</td>
							</tr>
						</tbody>
					</table>
					</div>
					<div class="none"></div>
				   <div class="gome_3">
						<div class="agreement-title" style="background:white; margin-bottom: 20px;margin-left: 5%"><span>结算银行账号</span></div>
						<table cellpadding="0" cellspacing="0" border="0" >
							<tbody><tr>
								<th><em class="em-red">*</em>银行开户名：</th>
								<td><input maxlength="20" type="text" id="bankAccountName" name="bank_account_name" value="" class="input3" onblur="checkEmpty(this.value,'bankAccountName','银行开户名','');"><span id="bankAccountNameSpan" style="display:none"></span></td>
							</tr>
							<tr>
								<th><em class="em-red">*</em>银行账号：</th>
								<td><input maxlength="32" type="text" id="bankAccount" name="bank_account_number" value="" class="input3" onblur="checkEmpty(this.value,'bankAccount','公司银行账号','positiveInteger');"><span id="bankAccountSpan" style="display:none"></span></td>
							</tr>
							<tr>
								<th><em class="em-red">*</em>开户银行支行名称：</th>
								<td>
									<input type="text" id="bankBranchName" name="bank_branch_name" value="" class="input3 " autocomplete="off" onblur="checkEmpty(this.value,'bankBranchName','开户银行支行名称','');">
									<input type="hidden" id="bankCode" name="bankCode">
									<span id="bankBranchNameSpan" style="display:none"></span>
								</td>
							</tr>
							<tr>
								<th><em class="em-red">*</em>开户银行支行所在地：</th>
								<td>
									<select id="bank_province" name="bank_province" onchange="get_city(this)" class="input145 mr10" style="width:35%;">
										<option value="">请选择</option>
										<option value="1" >北京市</option><option value="338" >天津市</option><option value="636" >河北省</option><option value="3102" >山西</option><option value="4670" >内蒙古自治区</option><option value="5827" >辽宁省</option><option value="7531" >吉林省</option><option value="8558" >黑龙江省</option><option value="10543" >上海市</option><option value="10808" >江苏省</option><option value="12596" >浙江省</option><option value="14234" >安徽省</option><option value="16068" >福建省</option><option value="17359" >江西省</option><option value="19280" >山东省</option><option value="21387" >河南省</option><option value="24022" >湖北省</option><option value="25579" >湖南省</option><option value="28240" >广东省</option><option value="30164" >广西壮族自治区</option><option value="31563" >海南省</option><option value="31929" >重庆市</option><option value="33007" >四川省</option><option value="37906" >贵州省</option><option value="39556" >云南省</option><option value="41103" >西藏自治区</option><option value="41877" >陕西省</option><option value="43776" >甘肃省</option><option value="45286" >青海省</option><option value="45753" >宁夏回族自治区</option><option value="46047" >新疆维吾尔自治区</option><option value="47493" >台湾省</option><option value="47494" >香港特别行政区</option><option value="47495" >澳门特别行政区</option>								
									</select>
									<select id="bank_city" name="bank_city" class="input145 mr10">
										<option value="">请选择</option>
																	</select>
								</td>
							</tr>
						</tbody></table>
					</div>
					<div class="none"></div>
					<div class="go_1" >
						<div class="agreement-title" style="background:white; margin-bottom: 20px;margin-left: 5%">运营信息</div>
						<table cellpadding="0" cellspacing="0" border="0" class="gome_2">
							<tbody>
							<tr>
								<th><em class="em-red">*</em>近一年主营渠道：</th>
								<td width="550">
									<select id="main_channel" name="main_channel" value="" class="input2">
										<option value="0">请选择</option>
										<option value="1" >商场/卖场</option>
										<option value="2" >批发市场</option>
										<option value="3" >超市/连锁店/商业中心</option>
										<option value="4" >电商网站</option>
										<option value="5" >其他</option>
									</select>
								</td>
							</tr>
							<tr>
								<th><em class="em-red">*</em>近一年销售额：</th>
								<td><input type="text" maxlength="17" id="sales" name="sales_volume" value="" class="input3" onblur="checkEmpty(this.value,'sales','近一年销售额','money');" style="width:35%"><span id="salesSpan" style="display:none"></span><span class="pl7 pt5">万元</span></td>
							</tr>
							<tr>
								<th style="width:60%"><em class="em-red" >*</em>同类电子商务网站经验：</th>
								<td>
									<label class="nLabel mr5" for="Y"><input type="radio" name="ec_experience" value="Y" checked="true" class="inputradio" hidefocus="true">有</label>
									<label class="nLabel" for="N"><input type="radio" name="ec_experience" value="N" class="inputradio" hidefocus="true">无</label>
								</td>
							</tr>
							<tr>
								<th><em class="em-red">*</em>可网售商品数量：</th>
								<td><input type="text" maxlength="10" id="skuNum" name="sku_num" value="1" class="input3" onblur="checkEmpty(this.value,'skuNum','可网售商品数量','positiveInteger');"><span id="skuNumSpan" style="display:none"></span></td>
							</tr>
							<tr>
								<th><em class="em-red">*</em>预计平均客单价：</th>
								<td><input type="text" maxlength="15" id="avgPrice" name="avg_price" value="0.00" class="input3" onblur="checkEmpty(this.value,'avgPrice','预计平均客单价','money');"><span id="avgPriceSpan" style="display:none"></span></td>
							</tr>
							<tr>
								<th><em class="em-red">*</em>仓库情况：</th>
								<td>
									<select id="warehouse" name="ware_house" value="" class="input145">
										<option value="">请选择</option>
										<option  value="1">自有仓库</option>
										<option  value="2">第三方仓库</option>
										<option  value="3">无仓库</option>
									</select>
								</td>
							</tr>
							<tr>
							<th><em class="em-red">*</em>是否有实体店：</th>
							<td><input type="radio" name="entity_shop" value="1" />有
								<input type="radio" name="entity_shop" value="0" checked/>无
							</td>
							</tr>
						</tbody></table>
					</div>
					</form>
					<div class="gome-btn pt30">
						<a href="javascript:preStep();" class="gome-btn-gray">上一步</a>
						<a href="javascript:nextStep();" class="gome-btn-red">下一步,上传基本资质</a>
					</div>
				</div>
			</div>
<input type="hidden" id="mobileRegex" value="^(13[0-9]{9})|(14[57][0-9]{8})|(15[012356789][0-9]{8})|(170[0-9]{8})|(18[0-9]{9})$"/>
 
<script>
function preStep(){
	window.location.href = "<?php echo U('Newjoin/basic_info');?>";
}
// document.body.addEventListener('touchmove', function (event) {
// event.preventDefault();}, true);
function showEntityShopInfo(){
	var v = document.getElementById("3");
	if (v.checked==true) {
		document.getElementById("3").value="Y";
		if(document.getElementById("hiddenDiv").style.display="none"){
    		document.getElementById("hiddenDiv").style.display="block";
		}
	} else {
		document.getElementById("3").value="N";
		document.getElementById("hiddenDiv").style.display="none";
	}
}
/**
* 检测非空
*/
function checkEmpty(value, id, msg, type) {
	var _email = /^([a-zA-Z0-9]+[_|\_|\-|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\-|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
	var _phone= /^((\+?[0-9]{2,4}\-[0-9]{3,4}\-)|([0-9]{3,4}\-))?([0-9]{7,8})(\-[0-9]+)?$/;
	var _mobile = new RegExp(document.getElementById("mobileRegex").value);
	var _zip= /^[0-9][0-9]{5}$/;
	var _positiveInteger = /^[0-9]*[1-9][0-9]*$/;
	var _money = /^[1-9]{1}\d*(\.\d{1,2})?$/;
	var ret = 0;
	if(value == "" || ($.trim(value)).length == 0){
		var v = document.getElementById(id+"Span");
		v.innerHTML = "请填写" + msg;
		v.className="warning-text1";
		v.style.display="block";
		//输入框样式添加warning
		$("#"+id).addClass("warning");
	} else {
		if ((type == "email" && !(_email.test(value))) || (type == "phone" && !(_phone.test(value))) || (type == "mobile" && !(_mobile.test(value))) || (type == "zip" && !(_zip.test(value))) || (type == "positiveInteger" && !(_positiveInteger.test(value))) || (type == "money" && !(_money.test(value)))) {
			var v = document.getElementById(id+"Span");
			if (type == "positiveInteger") {
				msg = msg + "(正整数)";
			} else if (type == "money") {
				msg = msg + "(金额)";
			}
			v.innerHTML = "格式错误，请正确填写" + msg;
			v.className="warning-text2";
			v.style.display="block";
			$("#"+id).addClass("warning");
		} else {
			document.getElementById(id+"Span").className="";
			document.getElementById(id+"Span").innerHTML="";
			document.getElementById(id+"Span").style.display="none";
			$("#"+id).removeClass("warning");
			ret = 1;
		}
	}
	return ret;
}

function checkStore(obj){
    var url = "<?php echo U('Newjoin/check_store');?>";
    $.ajax({
        type : "POST",
        url  : url,
        data :{'store_name':$(obj).val()},
        error: function(request) {
            alert("服务器繁忙, 请联系管理员!");
            return false;
        },
        success: function(res) {
			if(res == 'success'){
				$(obj).attr('err_msg',0);
			}else{
				$(obj).attr('err_msg',1);
			}
        }
    });
}

function checkSeller(obj){
    var url = "<?php echo U('Newjoin/check_seller');?>";
    $.ajax({
        type : "POST",
        url  : url,
        data :{'seller_name':$(obj).val()},
        error: function(request) {
            alert("服务器繁忙, 请联系管理员!");
            return false;
        },
        success: function(res) {
			if(res == 'success'){
				$(obj).attr('err_msg',0);
			}else{
				$(obj).attr('err_msg',1);
			}
        }
    });
}

/**
* 下一步
*/
function nextStep() {
	if ($("#shopName").attr('err_msg') == 1) {
		alert("店铺名称被注册，请更换其他名称");
		$("#shopName").focus();
		return;
	}
	if($("#shopName").val() == ''){
		alert("请填写店铺名称");
		$("#shopName").focus();
		return;
	}
	if ($("#seller_name").attr('err_msg') == 1) {
		alert("抱歉，此账号已被使用");
		$("#seller_name").focus();
		return;
	}
	if($("#seller_name").val() == ''){
		alert("请填写店铺登陆账号");
		$("#seller_name").focus();
		return;
	}
	
	if (checkEmpty($("#contactPersonName").val(),'contactPersonName','店铺负责人姓名','') != 1) {
		alert("店铺负责人姓名，填写有误");
		$("#contactPersonName").focus();
		return;
	}
	if (checkEmpty($("#contactPersonPhone").val(),'contactPersonPhone','手机号码','mobile') != 1) {
		alert("手机号码，填写有误");
		$("#contactPersonPhone").focus();
		return;
	}
	if (checkEmpty($("#contactPersonQq").val(),'contactPersonQq','qq','qq') != 1) {
		alert("店铺负责人QQ");
		$("#contactPersonQq").focus();
		return;
	}
	if (checkEmpty($("#shop_email").val(),'email','电子邮箱','email') != 1) {
		alert("电子邮箱，填写有误");
		$("#shop_email").focus();
		return;
	}
	if (checkEmpty($("#sales").val(),'sales','近一年销售额','money') != 1) {
		alert("近一年销售额，填写有误");
		$("#sales").focus();
		return;
	}
	if (checkEmpty($("#skuNum").val(),'skuNum','可网售商品数量','positiveInteger') != 1) {
		alert("可网售商品数量，填写有误");
		$("#skuNum").focus();
		return;
	}
	if (checkEmpty($("#avgPrice").val(),'avgPrice','预计平均客单价','money') != 1) {
		alert("预计平均客单价，填写有误");
		$("#avgPrice").focus();
		return;
	}

	// 设置shopApply.entity_shop
	if (checkEmpty($("#bankAccountName").val(),'bankAccountName','银行开户名','') != 1) {
		alert("银行开户名，填写有误");
		$("#bankAccountName").focus();
		return;
	}
	if (checkEmpty($("#bankAccount").val(),'bankAccount','银行账号','positiveInteger') != 1) {
		alert("银行账号，填写有误");
		$("#bankAccount").focus();
		return;
	}
	if ($("#bankBranchName").val()=="") {
		alert("请选择开户银行支行名称");
		$("#bankBranchName").focus();
		return;
	} else if ($("#f_shopBank").val()!=$("#bankBranchName").val()) {
		//alert("开户银行支行名称，选择有误");
		//$("#bankBranchName").focus();
		//return;
	}
	if ($("#bank_province").val()=="") {
		alert("请选择 开户银行支行所在地省份");
		$("#bank_province").focus();
		return;
	}
	if ($("#bank_city").val()=="") {
		alert("请选择 开户银行支行所在地城市");
		$("#bank_city").focus();
		return;
	}
	
	// 验证下拉框
	if ($("#shopType").val()=="") {
		alert("请选择 店铺性质");
		$("#shopType").focus();
		return;
	}
	if ($("#main_channel").val()=="") {
		alert("请选择 近一年主营渠道");
		$("#main_channel").focus();
		return;
	}

	if ($("#warehouse").val()=="") {
		alert("请选择 仓库情况");
		$("#warehouse").focus();
		return;
	}
	document.getElementById('seller_info').submit();
}

function get_province(){
    var url = '/index.php?m=Home&c=Api&a=getRegion&level=1&parent_id=0';
    $.ajax({
        type : "GET",
        url  : url,
        error: function(request) {
            alert("服务器繁忙, 请联系管理员!");
            return;
        },
        success: function(v) {
            v = '<option value="0">选择省份</option>'+ v;          
            $('#province').empty().html(v);
        }
    });
}

if ($("#bank_province").val() == null || $("#bank_province").val() == ""){
	get_province();
}

/**
 * 获取城市
 * @param t  省份select对象
 */
function get_city(t){
    var parent_id = $(t).val();
    if(!parent_id > 0){
        return;
    }
    $('#twon').empty().css('display','none');
    var url = '/index.php?m=Home&c=Api&a=getRegion&level=2&parent_id='+ parent_id;
    $.ajax({
        type : "GET",
        url  : url,
        error: function(request) {
            alert("服务器繁忙, 请联系管理员!");return;
        },
        success: function(v) {
            v = '<option value="0">选择城市</option>'+ v;          
            $('#bank_city').empty().html(v);
        }
    });
}

function get_sub_cat(obj,element){
    var parent_id = $(obj).val();
    if(!parent_id > 0){
        return;
    }
    $.ajax({
        type : "GET",
        url  : "<?php echo U('Home/Api/get_category');?>",
        data : {'parent_id':parent_id},
        error: function(request) {
            alert("服务器繁忙, 请联系管理员!");return;
        },
        success: function(v) {
            v = '<option value="">选择分类</option>'+ v;
            $('#'+element).empty().html(v).show();
        }
    });
}

function select_sub_cat(obj,element){
    var parent_id = $(obj).val();
    if(!parent_id > 0){
        return;
    }
    $.ajax({
        type : "GET",
        url  : "<?php echo U('Home/Api/get_cates');?>",
        data : {'parent_id':parent_id},
        error: function(request) {
            alert("服务器繁忙, 请联系管理员!");return;
        },
        success: function(v){
            $('#'+element).empty().html(v).show();
        }
    });
}

var aa = [];
function bind_store_class(){
   if($("input[type='checkbox']:checked").length == 0)
   {
	   alert('请在三级分类里至少选择一个经营类目');
	   return false;
   }
   var cattr = '';
   $("input[type='checkbox']:checked").each(function(i,o){
	    if($.inArray($(o).val(), aa) == -1){
			var conmmis = $(o).attr('rel');
			var cat_str = $('#class_1').val()+','+$('#class_2').val()+','+$(o).val();
			cattr += '<tr><td>'+$('#class_1').find("option:selected").text()+'</td>';
			cattr += '<td>'+$('#class_2').find("option:selected").text()+'</td>';
			cattr += '<td>'+$(o).attr('data-name')+'(佣金比例：'+conmmis+'%)</td>';
			cattr += '<td><a href="javascript:;" onclick="javascript:$(this).parent().parent().remove();">删除</a></td>';
			cattr += '<input name="store_class_ids[]" type="hidden" value="'+cat_str+'"></tr>';
			aa.push($(o).val());
	    }
   });
   $('#new_cat').append(cattr);
   showbtn();
}

function showbtn(){
	$('.bind_cat').hide();
	$('#class_2').empty().hide();
	$('#class_3').empty().hide();
	$('#btn_select_category').show()
}
</script>
</body>
</html>